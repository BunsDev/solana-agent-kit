---
title: "Keypair Wallet Setup"
description: "Initialize Solana Agent Kit with a Keypair wallet for development and automated environments"
---

# Keypair Wallet Setup

This guide explains how to initialize the Solana Agent Kit using a Keypair wallet. A Keypair wallet is ideal for development environments, automated systems, and backend applications where direct control of the private key is needed.

## Understanding Keypair Wallets

A Keypair in Solana consists of a public key (the wallet address) and a private key (used to sign transactions). Using a Keypair wallet gives you full control over the wallet but requires careful handling of the private key.

## Prerequisites

Before setting up a Keypair wallet, ensure you have:

- Installed the Solana Agent Kit and required plugins
- A Solana private key (in base58 format)
- A reliable Solana RPC endpoint

## Installation

First, install the required dependencies:

```bash
npm install solana-agent-kit @solana-agent-kit/plugin-token @solana-agent-kit/plugin-nft @solana-agent-kit/plugin-defi @solana-agent-kit/plugin-misc @solana-agent-kit/plugin-blinks @solana/web3.js bs58
```

## Basic Setup

Here's a comprehensive example of initializing the agent with a Keypair wallet:

```javascript
import { SolanaAgentKit, createVercelAITools, KeypairWallet } from "solana-agent-kit";
import { TokenPlugin } from "@solana-agent-kit/plugin-token";
import { NFTPlugin } from "@solana-agent-kit/plugin-nft";
import { DefiPlugin } from "@solana-agent-kit/plugin-defi";
import { MiscPlugin } from "@solana-agent-kit/plugin-misc";
import { BlinksPlugin } from "@solana-agent-kit/plugin-blinks";
import { Keypair } from "@solana/web3.js";
import bs58 from "bs58";

// Create a keypair from a private key
// IMPORTANT: Never hardcode private keys in production code
// Use environment variables or secure key management solutions
const privateKeyString = process.env.SOLANA_PRIVATE_KEY;
const keyPair = Keypair.fromSecretKey(bs58.decode(privateKeyString));

// Initialize wallet with the keypair
const wallet = new KeypairWallet(keyPair);

// Initialize agent with wallet and RPC URL
// The third parameter accepts configuration options
const agent = new SolanaAgentKit({
  wallet: wallet,
  rpcEndpoint: process.env.SOLANA_RPC_URL || "https://api.mainnet-beta.solana.com",
  config: {
    commitment: "confirmed",  // Transaction confirmation commitment level
    preflightChecks: true,    // Enable transaction preflight checks
    autoRetry: true,          // Automatically retry failed transactions
  },
  plugins: [
    new TokenPlugin(),
    new NFTPlugin(),
    new DefiPlugin(),
    new MiscPlugin(),
    new BlinksPlugin()
  ]
});

// Access the agent's public key (wallet address)
console.log("Agent wallet address:", agent.publicKey.toString());

// Example: Create a token transfer transaction
const transaction = await agent.methods.transferToken(
  "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v", // USDC token mint
  "1.5",                                          // Amount to transfer
  "recipient_wallet_address"                      // Recipient address
);

console.log("Transaction signature:", transaction);
```

## Alternative: Creating a New Keypair

If you don't have an existing keypair, you can generate a new one:

```javascript
// Generate a brand new keypair
const newKeyPair = Keypair.generate();
const wallet = new KeypairWallet(newKeyPair);

// Save the private key safely
const privateKey = bs58.encode(newKeyPair.secretKey);
console.log("New wallet address:", newKeyPair.publicKey.toString());
console.log("Private key (KEEP SECURE):", privateKey);

// Initialize agent with the new wallet
const agent = new SolanaAgentKit({
  wallet: wallet,
  rpcEndpoint: "https://api.devnet.solana.com", // Using devnet for testing
  plugins: [new TokenPlugin(), new DefiPlugin()]
});
```

## Loading a Keypair from a File

You can also load a keypair from a JSON file (similar to Solana CLI keypair files):

```javascript
import fs from 'fs';

// Load keypair from file (typically at ~/.config/solana/id.json)
const keypairFile = fs.readFileSync('/path/to/keypair.json', 'utf-8');
const keypairData = JSON.parse(keypairFile);
const keyPair = Keypair.fromSecretKey(new Uint8Array(keypairData));
const wallet = new KeypairWallet(keyPair);

// Initialize agent with the wallet
const agent = new SolanaAgentKit({
  wallet: wallet,
  rpcEndpoint: "https://api.mainnet-beta.solana.com",
  plugins: [new TokenPlugin(), new DefiPlugin()]
});
```

## Security Considerations

When working with keypair wallets, follow these security best practices:

1. **Never hardcode private keys** in your source code
2. Use environment variables or secure key management services
3. For production applications, consider using embedded wallets or hardware wallets instead
4. Limit the amount of SOL and tokens in development wallets
5. Use different wallets for development and production environments
6. Regularly rotate keys used in automated systems

## Next Steps

Now that you've set up your agent with a keypair wallet, you can:

- [Explore token operations](../integrations/token-operations/transfer_assets.md)
- [Learn about DeFi integrations](../integrations/defi-integration/jupiter_exchange_swaps.md)
- [Create and manage NFTs](../integrations/nft-management/mint_nft.md)
- [Set up an embedded wallet](./embedded-wallets.md) for production applications
